project: SWG
lead_project: Open Source Security
label:
upstream: "Yes"
acceptance_criteria:
time_estimate: 6
issuetype: Epic
summary: SCMI - Shared memory based transport protocol (mailbox) in OP-TEE
epic_name: SCMI - Shared memory based transport protocol (mailbox) in OP-TEE
description:
        - |
          h1. Deliverables
          This form of transport relies on the use of shared memory between the platform and the agents. The transport optionally supports interrupt based communication, where, on completion of the processing of a message, the caller receives an interrupt. Polling for completion is also supported. The transport can be used to provide an agent to platform, or a platform to agent channel. Each channel in the transport includes:
          * Shared memory area
          * Doorbell
          * Completion interrupt
          For more information about each of them, please see, DEN0056B - Arm Â® System Control and Management Interface Platform Design Document Non-Confidential Version 2.0.

          In OP-TEE (TEE core) we will need to implement a SCMI agent (client) that can exchange messages with SCMI servers/agents.

          h1. Out of Scope
          This card is only about adding a client to OP-TEE (TEE core). I.e., other boot binaries, boot loaders are not part of this Epic.

          h1. Risks and Assumptions
          Assumptions: possible to implement this as a standalone component.

          h1. Acceptance Criteria Example and Notes (Optional)
          |
          ||Criteria||Status||Closeout Notes/Links||
          |Patches upstream implementing a SCMI client that supports shared memory based transport protocol in OP-TEE (TEE Core, Armv7-A and Armv8-A)|(x)|Patches can be found [here (FIXME update link) |https://github.com/XYZ]|
          |Patches upstream enabling tests for the SCMI client shared memory based transport protocol |(x)|Patches can be found [here (FIXME update link) |https://github.com/XYZ]|

          Legend:
          ||(/) Done, (x) Not Done, (!) Doesn't apply (note the reason)||
