project: SWG
lead_project: Open Source Security
label:
upstream: "Yes"
time_estimate: 6
issuetype: Epic
summary: PKCS#11 - AES mechanisms
epic_name: PKCS#11 - AES mechanisms
description:
        - |
          h1. Deliverables
          This Epic is about implementing support for a subset of the [AES mechanisms|http://docs.oasis-open.org/pkcs11/pkcs11-curr/v2.40/csprd02/pkcs11-curr-v2.40-csprd02.html#_Toc387327804] defined by PKCS#11. By subset we have tried identify the most commonly used mechanisms. The list of PKCS#11 mechanisms that we intend to implement in this Epic are:
          * CKM_AES_ECB
          * CKM_AES_CBC
          * CKM_AES_CBC_PAD
          * CKM_AES_CTR
          * CKM_AES_CTS
          * CKM_AES_MAC_GENERAL
          * CKM_AES_MAC
          * CKM_AES_OFB
          * CKM_AES_KEY_GEN, note that this is implemented in [SWG-XYZ](PKCS#11 - Key management functions)

          Note that this depends on [SWG-XYZ] (PKCS#11 - Signature and MAC functions), [SWG-XYZ] (PKCS#11 - Symmetric cipher) and [SWG-XYZ] (PKCS#11 - Key management functions).

          For most functions mentioned here, we need to write code in optee_os, optee_client and optee_test. I.e., these functions are called on the client side, but in most cases there is a 1:1 mapping to a function on secure side also (as a service in a Trusted Application).

          h1. Out of Scope
          Following AES mechanisms are not considered in this card.
          * CKM_AES_CFB64
          * CKM_AES_CFB8
          * CKM_AES_CFB128
          * CKM_AES_XCBC_MAC
          * CKM_AES_XCBC_MAC_96
          
          Also, no AEAD functions like GCM and CCM are not considered in this card. Neiher is CMAC considered. I.e.,
          * CKM_AES_GCM
          * CKM_AES_CCM
          * CKM_AES_CMAC_GENERAL                   
          * CKM_AES_CMAC 

          If any of the above are needed, then we are going to create additional Epics for those.

          h1. Risks and Assumptions
          Assumptions, possible to implement this as a standalone component.

          h1. Acceptance Criteria
          ||Criteria||Status||Closeout Notes/Links||
          |Patches upstream implementing PKCS#11 subset of AES mechanisms mentioned in the deliverables section in OP-TEE (Armv7-A and Armv8-A)|(x)|Patches can be found [here (FIXME update link) |https://github.com/XYZ]|
          |Patches upstream enabling tests for the PKCS#11 subset of AES mechanisms |(x)|Patches can be found [here (FIXME update link) |https://github.com/XYZ]|
          |CKM_AES_ECB implemented/upstream |(x)| |
          |CKM_AES_CBC implemented/upstream |(x)| |
          |CKM_AES_CBC_PAD implemented/upstream |(x)| |
          |CKM_AES_CTR implemented/upstream |(x)| |
          |CKM_AES_CTS implemented/upstream |(x)| |
          |CKM_AES_MAC_GENERAL implemented/upstream |(x)| |
          |CKM_AES_MAC implemented/upstream |(x)| |
          |CKM_AES_OFB implemented/upstream |(x)| |
          |CKM_AES_KEY_GEN implemented/upstream |(x)| |

          Legend
          ||(/) Done, (x) Not Done, (!) Doesn't apply (note the reason)||

