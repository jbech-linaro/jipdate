project: SWG
lead_project: Open Source Security
label:
upstream: "Yes"
acceptance_criteria:
time_estimate: 4
issuetype: Epic
summary: PKCS#11 - Dual purpose cryptographic functions
epic_name: PKCS#11 - Dual purpose cryptographic functions
description:
        - |
          h1. Deliverables
          This Epic is about implementing the dual purpose cryptographic functions PKCS#11. The list of PKCS#11 functions that we intend to implement in this Epic are:
          * C_DigestEncryptUpdate, continues simultaneous multiple-part digesting and encryption operations
          * C_DecryptDigestUpdate, continues simultaneous multiple-part decryption and digesting operations
          * C_SignEncryptUpdate, continues simultaneous multiple-part signature and encryption operations
          * C_DecryptVerifyUpdate, continues simultaneous multiple-part decryption and verification operations

          Note that there are functions related to this in the [SWG-XYZ]. I.e., C_VerifyRecoverInit(), C_VerifyRecover(), C_SignRecoverInit(), C_SignRecover() are supposed to be implemented in that Epic. If it makes more sense to implement them there, then both cards shall be updated to reflect that.

          For most functions mentioned here, we need to write code in optee_os, optee_client and optee_test. I.e., these functions are called on the client side, but in most cases there is a 1:1 mapping to a function on secure side also (as a service in a Trusted Application).

          h1. Out of Scope
          N/A

          h1. Risks and Assumptions
          Assumptions: possible to implement this as a standalone component.

          h1. Acceptance Criteria
          |
          ||Criteria||Status||Closeout Notes/Links||
          |Patches upstream implementing PKCS#11 dual purpose cryptographic functions in OP-TEE (Armv7-A and Armv8-A)|(x)|Patches can be found [here (FIXME update link) |https://github.com/XYZ]|
          |Patches upstream enabling tests for the PKCS#11 dual purpose cryptographic support |(x)|Patches can be found [here (FIXME update link) |https://github.com/XYZ]|
          | C_DigestEncryptUpdate implemented/upstream |(x)| |
          | C_DecryptDigestUpdate implemented/upstream |(x)| |
          | C_SignEncryptUpdate implemented/upstream |(x)| |
          | C_DecryptVerifyUpdate implemented/upstream |(x)| |

          Legend:
          ||(/) Done, (x) Not Done, (!) Doesn't apply (note the reason)||
